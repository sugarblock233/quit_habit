# 快速使用指南

## 🚀 启动应用

### 方法一：使用启动脚本（推荐）
```bash
cd /root/quit_habit
./start.sh
```

### 方法二：手动启动
```bash
cd /root/quit_habit
python app.py
```

应用将在 `http://localhost:5000` 启动

## 📱 使用说明

### 1. 创建习惯
- 点击首页的"创建新习惯"按钮
- 输入习惯名称（必填）
- 可选填写描述和设置开始日期
- 点击"创建"按钮

### 2. 查看习惯列表
- 主页显示所有创建的习惯
- 每个习惯卡片显示：
  - 习惯名称和描述
  - 连续成功天数
  - 最近失败日期
  - 开始日期

### 3. 查看日历
- 点击任意习惯卡片进入详情页
- 日历默认显示当月
- 颜色说明：
  - 🟢 绿色：成功（默认状态）
  - 🔴 红色：失败（已标记）
  - ⚪ 灰色：未开始
  - ⚪ 浅灰：未来日期

### 4. 标记失败
- 在日历页面点击任意可用日期
- 输入失败原因（必填）
- 点击"保存"
- 该天将变为红色

### 5. 编辑/删除失败记录
- 点击红色日期查看失败原因
- 可以修改原因后保存
- 或点击"删除记录"恢复为成功状态

### 6. 切换月份
- 使用日历上方的 ◀ ▶ 按钮切换月份
- 可以查看过去和未来的记录

### 7. 删除习惯
- 在主页的习惯卡片上点击垃圾桶图标
- 确认删除后，习惯及所有记录将被删除

## 🌐 远程访问

如果你在服务器上部署，可以通过以下方式访问：

1. **查看服务器 IP**
```bash
ip addr show | grep inet
```

2. **在手机浏览器访问**
```
http://你的服务器IP:5000
```

3. **确保防火墙开放端口**
```bash
# Ubuntu/Debian
sudo ufw allow 5000

# CentOS/RHEL
sudo firewall-cmd --add-port=5000/tcp --permanent
sudo firewall-cmd --reload
```

## 🛑 停止应用

在终端按 `Ctrl+C` 停止应用

## 💾 数据备份

数据库文件位于：`/root/quit_habit/quit_habit.db`

备份命令：
```bash
cp /root/quit_habit/quit_habit.db /root/quit_habit/backup_$(date +%Y%m%d).db
```

## 🔧 常见问题

### 1. 端口已被占用
修改 `app.py` 最后一行的端口号：
```python
app.run(host='0.0.0.0', port=5001, debug=True)  # 改为 5001
```

### 2. 无法远程访问
- 检查防火墙是否开放端口
- 确认 `app.py` 中 `host='0.0.0.0'`
- 检查云服务器安全组规则

### 3. 数据丢失
从备份恢复：
```bash
cp backup_20250130.db quit_habit.db
```

## 📊 统计说明

- **连续成功天数**：从今天往前推，直到遇到第一个失败日期
- **最近失败日期**：最近一次标记失败的日期
- 未标记的日期默认为成功

## 🎨 移动端优化

应用已针对移动端优化：
- 响应式布局
- 大按钮易点击
- 适配各种屏幕尺寸
- 建议添加到主屏幕使用

---

祝你成功养成好习惯！💪
